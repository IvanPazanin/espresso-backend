@page "/rss-feeds/{Id:int}"
@inherits RssFeedDetailsBase
@using Microsoft.Extensions.Logging
@using Espresso.Dashboard.Pages.RssFeedPages.CreateEditRssFeed

<MudContainer MaxWidth="MaxWidth.Large">
    <MudText Typo="@Typo.h3" Style="margin: 20px">Rss Feed Details</MudText>

    <CreateEditRssFeed @bind-Success="@Success" RssFeedDetails="@RssFeedDetails"
        OnSaveButtonClick="@OnSaveButtonClick" />

    <MudPaper Class="pa-4">
        <MudText Typo="@Typo.h5" Style="margin: 5px">Parsing Messages</MudText>

        <MudGrid Justify="Justify.SpaceEvenly">

            @foreach (var parsingMessage in ParsingMessages)
            {
                var color = parsingMessage.LogLevel switch
                {
                    LogLevel.Error or LogLevel.Critical => Color.Error,
                    LogLevel.Warning => Color.Warning,
                    _ => Color.Info,
                };
                <MudItem xs="12" sm="6">

                    <MudPaper Style="padding: 5px;">
                        <MudText Color="@color">@parsingMessage.Message</MudText>
                    </MudPaper>
                </MudItem>
            }
        </MudGrid>
    </MudPaper>
</MudContainer>
