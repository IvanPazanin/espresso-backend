@inherits CreateEditCountryBase
@using Espresso.Domain.Enums.CategoryEnums

@if (Country is null)
{
    <MudProgressCircular Color="Color.Primary" Size="Size.Large" Indeterminate="true" />
}
else
{
    <MudGrid>
        <MudItem xs="12" sm="6">
            <MudPaper Class="pa-4">
                <MudForm @ref="Form" @bind-IsValid="@Success" @bind-Errors="@Errors">
                    <MudTextField T="string" Label="Name" Required="true" RequiredError="Name is required!"
                        @bind-Value="@Country.Name" />
                        <MudButton ButtonType="ButtonType.Button" OnClick="@OnSaveButtonClick" Disabled="@(!Success)"
                        Style="margin-top: 10px" Variant="Variant.Outlined">Save</MudButton>
                    </MudForm>
                </MudPaper>
            </MudItem>
        <MudItem xs="12" sm="6">
            <MudPaper Class="pa-4">
                <MudImage Alt="News Portal Image" Src="@($"/{Country.RelativeImageUrl}")" />
                <MudFileUpload T="IBrowserFile" FilesChanged="OnUploadIcon">
                    <ButtonTemplate>
                        <MudButton HtmlTag="label" Variant="Variant.Filled" Color="Color.Secondary"
                            StartIcon="@Icons.Filled.CloudUpload" for="@context">
                            Import Icon
                        </MudButton>
                    </ButtonTemplate>
                </MudFileUpload>
            </MudPaper>
        </MudItem>
    </MudGrid>
}
